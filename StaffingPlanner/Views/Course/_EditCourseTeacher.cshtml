@using StaffingPlanner.ViewModels;
@model CourseTeacherViewModel

<<<<<<< HEAD
    
<style>
    .glyphs {
        cursor: pointer;
        margin-left: 10px;
    }

    #cross {
        font-size: 23px;
        color: rgb(203, 40, 40);
    }

    #minus {
        font-size: 23px;
        color: rgb(149, 148, 148);
    }
</style>
<td>@Html.ActionLink(Model.Name, "TeacherDetails", "Teacher", new { id = Model.Id }, null)</td>
=======
    <td>
        @if (Model.IsApproved)
        {<i class="fa fa fa-check-circle" style="color:#87D37C"></i> }
        else
        {<i class="fa fa fa-exclamation-circle" style="color:#d66c78"></i>}
    </td>
    <td>@Html.ActionLink(Model.Name, "TeacherDetails", "Teacher", new { id = Model.Id }, null)</td>
>>>>>>> 2928519784a1b3b7ddd0d1944df936b38e8d0e98
    <td>@Model.Title</td>
    <td>@Model.RemainingHoursForYear</td>
    <td>@Model.RemainingHoursForTerm</td>
    <td>@Model.WorkloadFall</td>
    <td>@Model.WorkloadSpring</td>
<<<<<<< HEAD
<td>
    <input 
        type="number" 
        style="width: 60px; border:none" 
        id="@Model.WorkloadId" 
        name="@Model.WorkloadId"
        value="@Model.CourseWorkload"/> 

        <span
            class="pull-right glyphs"
            data-toggle="tooltip"
            title="Delete Teacher"
            data-offeringid="@Model.CourseId"
            data-workloadid="@Model.WorkloadId"
            onclick="DeleteTeacher(this)">
            <i class="glyphicon glyphicon-minus" id="cross"></i>
        </span>

        <span
            class="pull-right glyphs"
            data-toggle="tooltip"
            title="Cancel Changes"
            data-workloadid="@Model.WorkloadId"
            data-workload="@Model.CourseWorkload"
            onclick="CancelChanges(this)">
            <i class="fa fa-remove" id="minus"></i>
        </span>

        <button
            class="btn btn-default save-button pull-right"
            data-toggle="tooltip"
            title="Save Changes"
            type="button">
            Save
        </button>
    }
</td>

<script>
    // SaveTeacherChanges(string Id, string workloadId, string Allocated)

    /*
    var teacherId = $(elem).data('teacher');
    var offeringId = $(elem).data('offering');
    var workloadId = $(elem).data('workload');
    var hours = $('#' + workloadId).val();
    console.log(hours);
    $.ajax({
        type: "POST",
        url: 'Url.Action("AlterTeacherAllocation", "Teacher")',
        contentType: "application/json",
        data: JSON.stringify({
            teacherId: teacherId,
            offeringId: offeringId,
            workloadId: workloadId,
            hours: hours
        }),
        dataType: "json",
        success: function() {
            console.log("success");
            location.reload();
        },
        error: function() {
            console.log("error");
            location.reload();
        }
    });
    */

    function DeleteTeacher(elem) {
        var id = $(elem).data('offeringid');
        var workloadId = $(elem).data('workloadid');
        console.log("OfferingId: " + id + "\nWorkloadId: " + workloadId);
        $.ajax({
            type: "POST",
            url: '@Url.Action("DeleteTeacher", "Course")',
            contentType: "application/json",
            data: JSON.stringify({
                id: id,
                workloadId: workloadId
            }),
            dataType: "json",
            complete: function() {
                location.reload();
            }
        });
    }

    function CancelChanges(elem) {
        var workload = $(elem).data("workload");
        var elemId = "#" + $(elem).data("workloadid");
        var inputField = $(elemId);
        inputField.val(workload);
    }

    function SaveChanges(elem) {
        
    }
</script>
=======
    <td>
@using (Html.BeginForm("SaveTeacherChanges", "Course", FormMethod.Post, new { id = "MyForm" }))
{
        <input type="hidden" id="workloadId" name="workloadId" value="@Model.WorkloadId">
        <input type="hidden" id="Id" name="Id" value="@Model.CourseId">
        <input type="number" style ="width: 60px; border:none" id ="Allocated" name="Allocated" value="@Model.CourseWorkload">
        <span  class="pull-right" data-toggle="tooltip" title="Delete Teacher" style="cursor:pointer; margin-left: 10px" type="button" onclick="location.href='@Url.Action("DeleteTeacher", "Course", new { id = Model.CourseId, workloadId = Model.WorkloadId })'"> <i class="glyphicon glyphicon-minus" style="font-size:23px;color:rgb(203,40,40)"></i></span>
        <span  class="pull-right" data-toggle="tooltip" title="Cancel Changes" style="cursor:pointer; margin-left: 10px" type="button" onclick="location.href='@Url.Action("CancelChanges", "Course", new { id = Model.CourseId })'"> <i class="fa fa-remove" style="font-size:23px;color:rgb(149,148,148);"></i></span>
        <button class="btn btn-default save-button clear-button  pull-right" data-toggle="tooltip" title="Save Changes" type="submit">save </button>
}
     </td>
>>>>>>> 2928519784a1b3b7ddd0d1944df936b38e8d0e98
